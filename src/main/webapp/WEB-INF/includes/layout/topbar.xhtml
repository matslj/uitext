<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:fu="http://uitext.se/ui"
	xmlns:p="http://primefaces.org/ui">

	<div class="topbar">
		<h:form id="menu-form">
	        <fu:link id="hamburger" styleClass="menu-button" icon="fa fa-bars" />
		
			<span class="topbar-title"><h:outputText value="#{msgs['topbar.title']}"/></span>
			
			<!-- Visas när skärmen är mindre än x px och kan då användas för att toggla topbar-icons-menyn nedan. -->
			<fu:link id="topbar-icons-toggle-button" icon="fa fa-ellipsis-h" />
	
	        <!-- 
	        	Meny med ikoner/länkar och eventuella undermenyer till dessa
	        	
	        	Struktur:
	        	Under topbar-icons gäller följande för varje ikon i menyn:
	        	<div>
	        	    <a href=...>
	        	    	<span class="topbar-icon fa fa..."> </span>
	        	    </a>
	        	</div>
	        	
	        	Vadsomhelst som renderar till en a-tag kan användas (t.ex h:ouputLink).
	        	
	        	Om ingen direktnavigation ska ske från a-tagen; om den istället ska vara en behållare för en undermeny;
	        	så ska följande göras:
	        	<div>
	        	    <a href="#" class="topbar-submenu> (för h:outputLink så sätts 'value' till # och styleClass sätts till 'topbar-submenu')
	        	    	<span class="topbar-icon fa fa..."> </span>
	        	    </a>
	        	    <ul>
	        	    	<li>
	        	    		<a href=...>
	        	    		    <i class="fa fa...></i> <span>Text</span>
	        	    		</a>
	        	    	</li>
	        	    	<li>
	        	    		<a href=...>
	        	    		    <i class="fa fa...></i> <span>Text</span>
	        	    		</a>
	        	    	</li>
	        	    </ul>
	        	</div>
	         -->
			<div id="topbar-icons">
				<div>
					<fu:link path="sample" text="#{msgs['topbar.todo.title']}" icon="topbar-icon fa fa-bell-o" badgeValue="5" />
				</div>
				<div>
					<fu:link styleClass="topbar-submenu" text="#{msgs['topbar.settings.title']}" icon="topbar-icon fa fa-gear" />
					<ul>
						<li role="menuitem">
							<p:commandLink global="false"
								ajax="false"
								process="@this"
								immediate="true"
								action="#{sessionState.toggleEditMode()}">
								<ui:fragment rendered="#{sessionState.textEditMode}">
									<i class="fa fa-fw fa-lock"></i><span><h:outputText value="#{msgs['topbar.settings.textedit.close']}"/></span>
								</ui:fragment>
								<ui:fragment  rendered="#{not sessionState.textEditMode}">
									<i class="fa fa-fw fa-unlock"></i><span><h:outputText value="#{msgs['topbar.settings.textedit.open']}"/></span>
								</ui:fragment>
							</p:commandLink>
						</li>
						<li role="menuitem">
							<fu:link text="#{msgs['topbar.settings.highcontrast']}" icon="topbar-icon fa fa-fw fa-picture-o" />
						</li>
					</ul>
				</div>
				<div class="topbar-language-options">
					<fu:link styleClass="topbar-submenu" text="#{msgs['topbar.language.title']}" icon="topbar-icon fa fa-language" />
					<ul>
						<li role="menuitem">
							<p:commandLink global="false" action="#{localeManager.setLanguage('sv')}" process="@this" immediate="true" ajax="false">
	                            <h:graphicImage alt="Swedish flag" value="/resources/gfx/icons/Sweden_24.png" /> <span><h:outputText value="#{msgs['topbar.language.swedish']}"/></span>
	                        </p:commandLink>
	                    </li>
						<li role="menuitem">
							<p:commandLink global="false" action="#{localeManager.setLanguage('en')}" process="@this" immediate="true" ajax="false">
	                            <h:graphicImage alt="English flag" value="/resources/gfx/icons/GreatBritain_24.png" /> <span><h:outputText value="#{msgs['topbar.language.english']}"/></span>
	                        </p:commandLink>
	                    </li>
					</ul>
				</div>
			</div>
		</h:form>
	</div>
</ui:composition>
