<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:my="http://xmlns.jcp.org/jsf/composite/components"
	xmlns:p="http://primefaces.org/ui">

	<div class="topbar">
		<h:form id="menu-form">
			<a id="sidebar-toggle-button" class="menu-button" href="#">
	            <span class="fa fa-bars"></span>
	        </a>
		
			<span class="topbar-title"><h:outputText value="#{msgs['topbar.title']}"/></span>
			
			<!-- Visas när skärmen är mindre än x px och kan då användas för att toggla topbar-icons-menyn nedan. -->
			<a id="topbar-icons-toggle-button"
				href="#"> <span class="fa fa-ellipsis-h"></span>
			</a>
	
	        <!-- 
	        	Meny med ikoner/länkar och eventuella undermenyer till dessa
	        	
	        	Struktur:
	        	Under topbar-icons gäller följande för varje ikon i menyn:
	        	<div>
	        	    <a href=...>
	        	    	<span class="topbar-icon fa fa..."> </span>
	        	    </a>
	        	</div>
	        	
	        	Vadsomhelst som renderar till en a-tag kan användas (t.ex h:ouputLink).
	        	
	        	Om ingen direktnavigation ska ske från a-tagen; om den istället ska vara en behållare för en undermeny;
	        	så ska följande göras:
	        	<div>
	        	    <a href="#" class="topbar-submenu> (för h:outputLink så sätts 'value' till # och styleClass sätts till 'topbar-submenu')
	        	    	<span class="topbar-icon fa fa..."> </span>
	        	    </a>
	        	    <ul>
	        	    	<li>
	        	    		<a href=...>
	        	    		    <i class="fa fa...></i> <span>Text</span>
	        	    		</a>
	        	    	</li>
	        	    	<li>
	        	    		<a href=...>
	        	    		    <i class="fa fa...></i> <span>Text</span>
	        	    		</a>
	        	    	</li>
	        	    </ul>
	        	</div>
	         -->
			<div id="topbar-icons">
				<div>
					<a href="#"> <span class="topbar-icon-text"><h:outputText value="#{msgs['topbar.todo.title']}"/></span> <span
						class="topbar-icon fa fa-bell-o"></span> <span
						class="topbar-badge">5</span>
					</a>
				</div>
				<div>
					<h:outputLink value="#" styleClass="topbar-submenu"> <span class="topbar-icon-text"><h:outputText value="#{msgs['topbar.settings.title']}"/></span> <span
						class="topbar-icon fa fa-gear"></span>
					</h:outputLink>
					<ul>
						<li role="menuitem">
							<p:commandLink global="false"
								ajax="false"
								process="@this"
								immediate="true"
								action="#{sessionState.toggleEditMode()}">
								<ui:fragment rendered="#{sessionState.textEditMode}">
									<i class="fa fa-fw fa-lock"></i> <span><h:outputText value="#{msgs['topbar.settings.textedit.close']}"/></span>
								</ui:fragment>
								<ui:fragment  rendered="#{not sessionState.textEditMode}">
									<i class="fa fa-fw fa-unlock"></i> <span><h:outputText value="#{msgs['topbar.settings.textedit.open']}"/></span>
								</ui:fragment>
							</p:commandLink>
						</li>
						<li role="menuitem"><a href="#"> <i
								class="fa fa-fw fa-picture-o"></i> <span><h:outputText value="#{msgs['topbar.settings.highcontrast']}"/></span>
						</a></li>
					</ul>
				</div>
				<div class="topbar-language-options">
					<h:outputLink value="#" styleClass="topbar-submenu"> <span class="topbar-icon-text"><h:outputText value="#{msgs['topbar.language.title']}"/></span> <span
						class="topbar-icon fa fa-language"></span>
					</h:outputLink>
					<ul>
						<li role="menuitem">
							<p:commandLink global="false" action="#{localeManager.setLanguage('sv')}" process="@this" immediate="true" ajax="false">
	                            <h:graphicImage alt="Swedish flag" value="/resources/gfx/icons/Sweden_24.png" /> <span><h:outputText value="#{msgs['topbar.language.swedish']}"/></span>
	                        </p:commandLink>
	                    </li>
						<li role="menuitem">
							<p:commandLink global="false" action="#{localeManager.setLanguage('en')}" process="@this" immediate="true" ajax="false">
	                            <h:graphicImage alt="English flag" value="/resources/gfx/icons/GreatBritain_24.png" /> <span><h:outputText value="#{msgs['topbar.language.english']}"/></span>
	                        </p:commandLink>
	                    </li>
					</ul>
				</div>
			</div>
		</h:form>
	</div>
</ui:composition>
